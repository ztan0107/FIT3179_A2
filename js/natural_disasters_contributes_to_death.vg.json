{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": { "text": "Donut/PieChart Which Natural Disaster contributes to Deaths?" },
    "data": {
    "url": "https://raw.githubusercontent.com/ztan0107/3179/refs/heads/main/FIT3179%20Assignment%202/data/relative_disaster_percentage_new.csv"
    },
    "params": [
      {"name": "Year_selection",
      "value": 2023,
      "bind": {
      "input": "range",
      "min": 1900,
      "max": 2023,
      "step": 1,
      "name": "Year:"
      }
      }],
    "transform": [
    {
      "filter": "datum.Year == Year_selection"
    }
  ],
  "mark": {
    "type": "arc",
    "innerRadius": 50
  },
  
    "encoding": {
      "theta": {"field": "Deaths", "type": "quantitative"},
      "color": {"field": "Entity", "type": "nominal"},
      "tooltip": [
        {"field": "Entity", "type": "nominal", "title":
        "Natural Disasters: "},
        {"field": "Relative_Death_Percentage", 
        "type": "quantitative","format":".2f"}
]

    }
    }



//2nd 
{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": { "text": "Donut/PieChart Which Natural Disaster contributes to Deaths?" },
    "data": {
    "url": "https://raw.githubusercontent.com/ztan0107/3179/refs/heads/main/FIT3179%20Assignment%202/data/relative_disaster_percentage_new.csv"
    },
    "params": [
      {"name": "Year_selection",
      "value": 2023,
      "bind": {
      "input": "range",
      "min": 1900,
      "max": 2023,
      "step": 1,
      "name": "Year:"
      }
      }],
    "transform": [
    {
      "filter": "datum.Year == Year_selection"
    }
  ],
  "mark": {
    "type": "arc",
    "innerRadius": 30
  },
  
    "encoding": {
      "theta": {"field": "Deaths", "type": "quantitative"},
      "color": {"field": "Entity", "type": "nominal"},
      "tooltip": [
        {"field": "Entity", "type": "nominal", "title":
        "Natural Disasters:"},
        {"field": "Relative_Death_Percentage", 
        "type": "quantitative","format":".2f","title":"% Contributions to Deaths:"},
        {"field": "Deaths", 
        "type": "quantitative", "title":"Deaths:"},
        {"field": "Total_Deaths", 
        "type": "quantitative", "title":"Total Deaths:"}
]
    }
    }